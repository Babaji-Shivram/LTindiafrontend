<div class="page">
  <div class="page-header">
    <h1 class="page-title">
      <span class="material-icons">business</span>
      Company Types
    </h1>
    <div class="actions">
      <button (click)="onAddNew()" class="btn btn-primary">
        <span class="material-icons">add</span>
        Add New Type
      </button>
    </div>
  </div>

  <div class="toolbar">
    <div class="search-section">
      <input 
        type="search" 
        [(ngModel)]="searchTerm" 
        placeholder="Search company types..." 
        class="search-input" />
      <span class="material-icons search-icon">search</span>
    </div>
  </div>

  <div class="table-wrap">
    <table class="table">
      <thead>
        <tr>
          <th>Type ID</th>
          <th>Type Name</th>
          <th>Description</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let type of companyTypes$ | async" class="table-row">
          <td>
            <span class="id-badge">{{type.companyTypeId}}</span>
          </td>
          <td>
            <div class="type-info">
              <span class="type-name">{{type.companyTypeName}}</span>
            </div>
          </td>
          <td>
            <span class="description">{{type.description || 'No description'}}</span>
          </td>
          <td>
            <span class="status-chip" [class]="type.isActive ? 'status-active' : 'status-inactive'">
              {{type.isActive ? 'Active' : 'Inactive'}}
            </span>
          </td>
          <td class="actions-cell">
            <button 
              (click)="onView(type)" 
              class="btn-icon" 
              title="View Details">
              <span class="material-icons">visibility</span>
            </button>
            <button 
              (click)="onEdit(type)" 
              class="btn-icon" 
              title="Edit Type">
              <span class="material-icons">edit</span>
            </button>
            <button 
              (click)="onToggleStatus(type)" 
              class="btn-icon" 
              [title]="type.isActive ? 'Deactivate' : 'Activate'">
              <span class="material-icons">{{type.isActive ? 'toggle_on' : 'toggle_off'}}</span>
            </button>
            <button 
              (click)="onDelete(type)" 
              class="btn-icon btn-delete" 
              title="Delete Type">
              <span class="material-icons">delete</span>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="empty-state" *ngIf="(companyTypes$ | async)?.length === 0">
    <span class="material-icons large">business</span>
    <h3>No Company Types Found</h3>
    <p>Start by adding company types to categorize your business contacts.</p>
    <button (click)="onAddNew()" class="btn btn-primary">
      <span class="material-icons">add</span>
      Add First Type
    </button>
  </div>
</div>
