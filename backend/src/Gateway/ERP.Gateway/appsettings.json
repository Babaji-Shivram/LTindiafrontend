{
  "ReverseProxy": {
    "Routes": {
      "identity-route": {
        "Match": {
          "Path": "/api/v1/identity/{**catch-all}"
        },
        "ClusterId": "identity-cluster",
        "Metadata": {
          "Description": "Identity and Authentication Services"
        }
      },
      "masters-route": {
        "Match": {
          "Path": "/api/v1/masters/{**catch-all}"
        },
        "ClusterId": "masters-cluster",
        "Metadata": {
          "Description": "Master Data Management Services"
        }
      },
      "crm-route": {
        "Match": {
          "Path": "/api/v1/crm/{**catch-all}"
        },
        "ClusterId": "crm-cluster",
        "Metadata": {
          "Description": "Customer Relationship Management Services"
        }
      }
    },
    "Clusters": {
      "identity-cluster": {
        "Destinations": {
          "identity-destination": {
            "Address": "https://localhost:7101/",
            "Health": "https://localhost:7101/health"
          }
        },
        "HttpClient": {
          "SslProtocols": "Tls12|Tls13"
        },
        "HealthCheck": {
          "Active": {
            "Enabled": false,
            "Interval": "00:01:00",
            "Timeout": "00:00:10",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          },
          "Passive": {
            "Enabled": true,
            "Policy": "TransportFailureRate",
            "ReactivationPeriod": "00:00:10"
          }
        }
      },
      "masters-cluster": {
        "Destinations": {
          "masters-destination": {
            "Address": "https://localhost:7102/",
            "Health": "https://localhost:7102/health"
          }
        },
        "HttpClient": {
          "SslProtocols": "Tls12|Tls13"
        },
        "HealthCheck": {
          "Active": {
            "Enabled": false,
            "Interval": "00:01:00",
            "Timeout": "00:00:10",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          },
          "Passive": {
            "Enabled": true,
            "Policy": "TransportFailureRate",
            "ReactivationPeriod": "00:00:10"
          }
        }
      },
      "crm-cluster": {
        "Destinations": {
          "crm-destination": {
            "Address": "https://localhost:7103/",
            "Health": "https://localhost:7103/health"
          }
        },
        "HttpClient": {
          "SslProtocols": "Tls12|Tls13"
        },
        "HealthCheck": {
          "Active": {
            "Enabled": false,
            "Interval": "00:01:00",
            "Timeout": "00:00:10",
            "Policy": "ConsecutiveFailures",
            "Path": "/health"
          },
          "Passive": {
            "Enabled": true,
            "Policy": "TransportFailureRate",
            "ReactivationPeriod": "00:00:10"
          }
        }
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Yarp": "Information",
      "ERP.Gateway": "Information"
    }
  },
  "AllowedHosts": "localhost;*.ltim.local;your-domain.com",
  "JwtSettings": {
    "SecretKey": "your-256-bit-secret-key-here-make-it-at-least-32-characters-long",
    "Issuer": "LTI-ERP-System",
    "Audience": "LTI-ERP-Users",
    "AccessTokenExpiryMinutes": 60,
    "PublicPaths": [
      "/api/v1/identity/auth/login",
      "/api/v1/identity/auth/refresh",
      "/api/v1/identity/auth/register",
      "/health",
      "/"
    ]
  },
  "RateLimitSettings": {
    "DefaultLimit": 100,
    "DefaultWindow": "00:01:00",
    "EndpointLimits": {
      "/api/v1/identity/auth/login": {
        "Limit": 5,
        "Window": "00:01:00"
      },
      "/api/v1/identity/auth/register": {
        "Limit": 3,
        "Window": "00:01:00"
      }
    }
  },
  "Kestrel": {
    "EndPoints": {
      "Http": {
        "Url": "http://localhost:5200"
      },
      "Https": {
        "Url": "https://localhost:5201"
      }
    }
  }
}
